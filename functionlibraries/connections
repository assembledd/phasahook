local utility = {events = {}}

function utility.newconnection(name)
    utility.events[name] = {count=0,args={}}
end

function utility.callconnection(name, ...)
    task.wait(1/100000)
    utility.events[name].count += 1
    if ... then
        utility.events[name][utility.events[name].count] = ...
    end
end

function utility.changedconnection(name, func)
    task.spawn(function()
        local a = utility.events[name].count
        while task.wait() do
            if utility.events[name].count ~= a then
                func(utility.events[name][utility.events[name].count])
            end
            a = utility.events[name].count
        end
    end)
end

return utility
